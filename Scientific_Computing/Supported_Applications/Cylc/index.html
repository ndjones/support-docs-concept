
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="NeSI Support Documentation">
      
      
      
        <link rel="canonical" href="https://github.com/nesi/support-docs-concept/Scientific_Computing/Supported_Applications/Cylc/">
      
      
        <link rel="prev" href="../Clair3/">
      
      
        <link rel="next" href="../Delft3D/">
      
      
      <link rel="icon" href="../../../assets/icons/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.4">
    
    
      
        <title>Cylc - NeSI Support Center</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/neoteroi-mkdocs.css">
    
      <link rel="stylesheet" href="../../../assets/stylesheets/footer.css">
    
      <link rel="stylesheet" href="../../../assets/stylesheets/custom_admonations.css">
    
      <link rel="stylesheet" href="../../../assets/stylesheets/theme.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#what-is-cylc" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
<style>
#banner{
    font-size: larger;
    text-align: center;
    background:  var(--md-warning-bg-color);
}
#banner a:link {
    color: blue;
}
#banner a:visited {
    color: purple;
}
#banner a:focus,
#banner a:hover {
    border-bottom: 1px solid;
}
#banner p{
    color: black;
}
</style>

<div id="banner">
    <p>This site is in Beta. All content is a duplication of  
    <a href="https://support.nesi.org.nz/hc/en-gb">offical NeSI support documentation.</a>
    </p>
</div>

      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="NeSI Support Center" class="md-header__button md-logo" aria-label="NeSI Support Center" data-md-component="logo">
      
  <img src="../../../assets/icons/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NeSI Support Center
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Cylc
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/nesi/support-docs-concept" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    


    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="NeSI Support Center" class="md-nav__button md-logo" aria-label="NeSI Support Center" data-md-component="logo">
      
  <img src="../../../assets/icons/logo.svg" alt="logo">

    </a>
    NeSI Support Center
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/nesi/support-docs-concept" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    <a href="../../../Getting_Started/Accounts-Projects_and_Allocations/Creating_a_NeSI_Account_Profile/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    <a href="../../../General/Announcements/Accessing_NeSI_Support_during_the_holiday_break/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    General
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Scientific Computing
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Scientific Computing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../Training/Introduction_to_computing_on_the_NeSI_HPC/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Training
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../Interactive_computing_using_Jupyter/Jupyter_on_NeSI/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Interactive computing using Jupyter
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../The_NeSI_High_Performance_Computers/Overview/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    The NeSI High Performance Computers
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Supported Applications
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Supported Applications
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ABAQUS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ABAQUS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ANSYS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ANSYS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../AlphaFold/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AlphaFold
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../BLAST/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BLAST
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../BRAKER/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BRAKER
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CESM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CESM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../COMSOL/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    COMSOL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Clair3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clair3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Cylc
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Cylc
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-cylc" class="md-nav__link">
    <span class="md-ellipsis">
      What is Cylc
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      SSH configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-select-the-cylc-version" class="md-nav__link">
    <span class="md-ellipsis">
      How to select the Cylc version
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-simple-example-of-a-cylc-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      A simple example of a Cylc workflow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-interact-with-cylc" class="md-nav__link">
    <span class="md-ellipsis">
      How to interact with Cylc
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-a-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      Installing a workflow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validating-the-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      Validating the workflow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#looking-at-the-workflow-graph" class="md-nav__link">
    <span class="md-ellipsis">
      Looking at the workflow graph
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#different-ways-to-interact-with-cylc" class="md-nav__link">
    <span class="md-ellipsis">
      Different ways to interact with Cylc
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Different ways to interact with Cylc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connecting-via-jupyter" class="md-nav__link">
    <span class="md-ellipsis">
      Connecting via Jupyter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connecting-via-ssh" class="md-nav__link">
    <span class="md-ellipsis">
      Connecting via SSH
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-execute-a-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      How to execute a workflow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checking-the-output" class="md-nav__link">
    <span class="md-ellipsis">
      Checking the output
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-clean-or-remove-a-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      How to clean or remove a workflow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#where-jobs-results-and-log-files-are-stored" class="md-nav__link">
    <span class="md-ellipsis">
      Where jobs, results and log files are stored
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#about-cylc" class="md-nav__link">
    <span class="md-ellipsis">
      About Cylc
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Delft3D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Delft3D
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Dorado/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dorado
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../FDS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FDS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../GATK/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GATK
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../GROMACS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GROMACS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Gaussian/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gaussian
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Java/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Java
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Julia/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Julia
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../JupyterLab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JupyterLab
  </span>
  
    
  
  
    <span class="md-status md-status--deprecated"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Keras/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Keras
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Lambda%20Stack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lambda Stack
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../MAKER/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MAKER
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../MATLAB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MATLAB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Miniconda3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Miniconda3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ORCA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ORCA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../OpenFOAM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenFOAM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../OpenSees/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenSees
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ParaView/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ParaView
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../R/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    R
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../RAxML/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RAxML
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Relion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Relion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Singularity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Singularity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Software%20Installation%20Request/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software Installation Request
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Supernova/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supernova
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Synda/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Synda
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../TensorFlow_on_CPUs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TensorFlow on CPUs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../TensorFlow_on_GPUs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TensorFlow on GPUs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Trinity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trinity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../TurboVNC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TurboVNC
  </span>
  
    
  
  
    <span class="md-status md-status--deprecated"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../VASP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VASP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../VTune/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VTune
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../VirSorter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VirSorter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../WRF/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WRF
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ipyrad/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ipyrad
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ont-guppy-gpu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ont-guppy-gpu
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../snpEff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    snpEff
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../Running_Jobs_on_Maui_and_Mahuika/Checking_your_projects_usage_using_nn_corehour_usage/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Running Jobs on Māui and Mahuika
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../Profiling_and_Debugging/Debugging/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Profiling and Debugging
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../HPC_Software_Environment/Build_an_Apptainer_container_on_a_Milan_compute_node/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    HPC Software Environment
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../Terminal_Setup/Standard_Terminal_Setup/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Terminal Setup
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../Manuals_and_User_Guides/Manuals/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Manuals and User Guides
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../Release_Notes_jupyter-nesi-org-nz/jupyter-nesi-org-nz_release_notes_02-02-2023/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Release Notes jupyter.nesi.org.nz
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    <a href="../../../Storage/File_Systems_and_Quotas/NeSI_File_Systems_and_Quotas/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Storage
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-cylc" class="md-nav__link">
    <span class="md-ellipsis">
      What is Cylc
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      SSH configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-select-the-cylc-version" class="md-nav__link">
    <span class="md-ellipsis">
      How to select the Cylc version
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-simple-example-of-a-cylc-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      A simple example of a Cylc workflow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-interact-with-cylc" class="md-nav__link">
    <span class="md-ellipsis">
      How to interact with Cylc
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-a-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      Installing a workflow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validating-the-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      Validating the workflow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#looking-at-the-workflow-graph" class="md-nav__link">
    <span class="md-ellipsis">
      Looking at the workflow graph
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#different-ways-to-interact-with-cylc" class="md-nav__link">
    <span class="md-ellipsis">
      Different ways to interact with Cylc
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Different ways to interact with Cylc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connecting-via-jupyter" class="md-nav__link">
    <span class="md-ellipsis">
      Connecting via Jupyter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connecting-via-ssh" class="md-nav__link">
    <span class="md-ellipsis">
      Connecting via SSH
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-execute-a-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      How to execute a workflow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checking-the-output" class="md-nav__link">
    <span class="md-ellipsis">
      Checking the output
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-clean-or-remove-a-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      How to clean or remove a workflow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#where-jobs-results-and-log-files-are-stored" class="md-nav__link">
    <span class="md-ellipsis">
      Where jobs, results and log files are stored
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#about-cylc" class="md-nav__link">
    <span class="md-ellipsis">
      About Cylc
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                

                  

  
    <a href="https://github.com/nesi/support-docs-concept/edit/main/docs/Scientific_Computing/Supported_Applications/Cylc.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


  <h1>Cylc</h1>

<h2 id="what-is-cylc">What is Cylc<a class="headerlink" href="#what-is-cylc" title="Permanent link">&para;</a></h2>
<p><a href="https://cylc.github.io/">Cylc</a> is a <strong>general purpose workflow engine</strong>
that can also orchestrate <strong>cycling systems</strong> very efficiently. It is
used in production weather, climate, and environmental forecasting on
HPC, but is not specialised to those domains.</p>
<p>Using a workflow engine may enable you to run large parametric or
sensitivity studies while ensuring scalability, reproducibility and
flexibility. If you have embarrassingly parallel jobs then Cylc might be
a good solution for you. The workflow engine will allow for the
concurrent execution of parallel jobs, depending on the task graph and
available resources on the platform. One advantage of this approach over
running a monolithic, parallel executable is that each task will require
less resources that the complete problem, it is thus easier for each
task to slip into the queue and start running.</p>
<p>See the NeSI  <a href="https://snakemake-on-nesi.sschmeier.com/">Snakemake</a> page
for another, possible choice.</p>
<p>In this article, we show how you can create a simple workflow and run it
on NeSI's platform. Consult the <a href="https://cylc.github.io/documentation/">Cylc
documentation</a> for more elaborate
examples, including some with a cycling (repeated) graph pattern. One of
the strengths of Cylc is that simple workflows can be executed simply
while allowing for very complex workflows, with thousands of tasks,
which may be repeated ad infinitum.</p>
<h2 id="ssh-configuration">SSH configuration<a class="headerlink" href="#ssh-configuration" title="Permanent link">&para;</a></h2>
<p>Cylc uses ssh  to automatically start schedulers on configured "run
hosts" and to submit jobs to remote platforms, so if you haven't already
done so you need to allow ssh to connect to other hosts on the HPC
cluster without prompting for a passphrase (all HPC nodes see the same
filesystem, so this is easy):</p>
<ul>
<li>run <strong><code>ssh-keygen</code></strong> to generate a public/private key pair with <strong>no
    passphrase</strong> (when it asks for a passphrase, just hit enter)</li>
<li>add your own public key to your authorized keys
    file: <strong><code>cat .ssh/id_rsa.pub &gt;&gt; .ssh/authorized_keys</code></strong> </li>
<li>check that your <strong>keys, authorized_keys file, ssh
    directory, </strong>and<strong> home directory</strong> all have sufficiently secure
    file permissions. If not, <code>ssh</code> will silently revert to requiring
    password entry. See for
    example <a href="https://www.frankindev.com/2020/11/26/permissions-for-.ssh-folder-and-key-files/">https://www.frankindev.com/2020/11/26/permissions-for-.ssh-folder-and-key-files/</a></li>
<li>make sure your <strong>home directory</strong> has a maximum
    of <strong>750</strong> permissions</li>
</ul>
<p>Now you should be able to run <strong><code>ssh mahuika02</code></strong>(for example) without
being asked for a passphrase.</p>
<h2 id="how-to-select-the-cylc-version">How to select the Cylc version<a class="headerlink" href="#how-to-select-the-cylc-version" title="Permanent link">&para;</a></h2>
<p>Cylc has been installed on Māui and Mahuika, there is no need to load
any module,</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>which<span class="w"> </span>cylc
/opt/nesi/share/bin/cylc
</code></pre></div>
<p>(Access if via the NeSI module, which is loaded by default.)</p>
<p>Be aware that the default version</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cylc<span class="w"> </span>version
<span class="m">7</span>.9.1
</code></pre></div>
<p>is not the latest, and that configuration file and Cylc commands have
changed significantly at version 8.</p>
<p><strong>New Cylc users should use version 8 or later</strong>,</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cylc<span class="w"> </span>list-versions

<span class="m">7</span>.9.1<span class="w"> </span>
...
<span class="m">8</span>.0.1<span class="w"> </span>
cylc<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">7</span>.9.1
</code></pre></div>
<p>You can select your Cylc version by setting the environment variable
CYLC_VERSION, for instance,</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">CYLC_VERSION</span><span class="o">=</span><span class="m">8</span>.0.1
$<span class="w"> </span>cylc<span class="w"> </span>version
<span class="m">8</span>.0.1
</code></pre></div>
<p>At the time of writing, the latest version is 8.0.1.</p>
<h2 id="a-simple-example-of-a-cylc-workflow">A simple example of a Cylc workflow<a class="headerlink" href="#a-simple-example-of-a-cylc-workflow" title="Permanent link">&para;</a></h2>
<p>To demonstrate Cylc, let's start with a workflow, which we call
"simple",</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>~/cylc-src/simple
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>~/cylc-src/simple
</code></pre></div>
<p>Create/edit the following <strong>flow.cylc</strong> file containing</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>scheduling<span class="o">]</span><span class="w"> </span><span class="c1"># Define the tasks and when they should run</span>
<span class="w">  </span><span class="o">[[</span>graph<span class="o">]]</span>
<span class="w">    </span><span class="nv">R1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;&quot; # R1 means run this graph once</span>
<span class="s2">      taskA &amp; taskB =&gt; taskC # Defines the task graph</span>
<span class="s2">    &quot;&quot;&quot;</span>
<span class="o">[</span>runtime<span class="o">]</span><span class="w"> </span><span class="c1"># Define what each task should run</span>
<span class="w">  </span><span class="o">[[</span>root<span class="o">]]</span><span class="w"> </span><span class="c1"># Default settings inherited by all tasks</span>
<span class="w">    </span><span class="nv">platform</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>mahuika-slurm<span class="w"> </span><span class="c1"># Run &quot;cylc conf&quot; to see platforms. </span>
<span class="w">    </span><span class="o">[[[</span>directives<span class="o">]]]</span><span class="w"> </span><span class="c1"># Default SLURM options for the tasks below</span>
<span class="w">       </span>--account<span class="w"> </span><span class="o">=</span><span class="w"> </span>nesi99999<span class="w"> </span><span class="c1"># CHANGE</span>
<span class="w">  </span><span class="o">[[</span>taskA<span class="o">]]</span>
<span class="w">    </span><span class="nv">script</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;running task A&quot;</span>
<span class="w">      </span><span class="o">[[[</span>directives<span class="o">]]]</span><span class="w"> </span><span class="c1"># specific SLURM option for this task</span>
<span class="w">        </span>--ntasks<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span>
<span class="w">  </span><span class="o">[[</span>taskB<span class="o">]]</span>
<span class="w">    </span><span class="nv">script</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;running task B&quot;</span>
<span class="w">  </span><span class="o">[[</span>taskC<span class="o">]]</span>
<span class="w">    </span><span class="nv">script</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;running task C&quot;</span>
</code></pre></div>
<p>In the above example, we have three tasks (taskA, taskB and taskC),
which run under SLURM (hence platform = mahuika-slurm). Type</p>
<div class="highlight"><pre><span></span><code>cylc<span class="w"> </span>config<span class="w"> </span>--platform-names
</code></pre></div>
<p>to see a list of platforms. The SLURM settings for taskA are in the
[[[directives]]] section.</p>
<h2 id="how-to-interact-with-cylc">How to interact with Cylc<a class="headerlink" href="#how-to-interact-with-cylc" title="Permanent link">&para;</a></h2>
<p>Cylc takes command lines. Type </p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cylc<span class="w"> </span><span class="nb">help</span><span class="w"> </span>all
</code></pre></div>
<p>to see the available commands. Type </p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cylc<span class="w"> </span><span class="nb">help</span><span class="w"> </span>install<span class="w"> </span><span class="c1"># or cylc install --help</span>
</code></pre></div>
<p>to find out how to use a specific command (in this case "install").</p>
<h2 id="installing-a-workflow">Installing a workflow<a class="headerlink" href="#installing-a-workflow" title="Permanent link">&para;</a></h2>
<p>Prior to running a workflow, <strong>it must be installed</strong> to a run
directory. Due to limited disk space in home directories on NeSI, Cylc
has been configured to symlink the standard run directories to project
directories, if $PROJECT is defined. Hence, you need to set</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">PROJECT</span><span class="o">=</span>nesi99999<span class="w"> </span><span class="c1"># CHANGE</span>
</code></pre></div>
<p>Then install the workflow with</p>
<div class="highlight"><pre><span></span><code>cylc<span class="w"> </span>install<span class="w"> </span>simple
</code></pre></div>
<h2 id="validating-the-workflow">Validating the workflow<a class="headerlink" href="#validating-the-workflow" title="Permanent link">&para;</a></h2>
<p>It's a good idea to check that there are no syntax errors in flow.cylc,</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cylc<span class="w"> </span>validate<span class="w"> </span>simple
Valid<span class="w"> </span><span class="k">for</span><span class="w"> </span>cylc-8.0.1
</code></pre></div>
<h2 id="looking-at-the-workflow-graph">Looking at the workflow graph<a class="headerlink" href="#looking-at-the-workflow-graph" title="Permanent link">&para;</a></h2>
<p>A useful command is</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cylc<span class="w"> </span>graph<span class="w"> </span>simple
</code></pre></div>
<p>which will generate a png file, generally in the /tmp directory with a
name like /tmp/tmpzq3bjktw.PNG. Take note of the name of the png file.
To visualise the file you can type</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>display<span class="w">  </span>/tmp/tmpzq3bjktw.PNG<span class="w"> </span><span class="c1"># ADJUST the file name</span>
</code></pre></div>
<p>Here, we see that our workflow "simple" has a "taskC", which waits for
"taskA" and "taskB" to complete,</p>
<p><img alt="simple.png" src="../../../assets/images/Cylc.png" /></p>
<p>The "1" indicates that this workflow graph is executed only once.</p>
<h2 id="different-ways-to-interact-with-cylc">Different ways to interact with Cylc<a class="headerlink" href="#different-ways-to-interact-with-cylc" title="Permanent link">&para;</a></h2>
<p>Every Cylc action can be executed via the command line. Alternatively,
you can invoke each action through a <strong>terminal user interface</strong> (tui), </p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cylc<span class="w"> </span>tui<span class="w"> </span>simple
</code></pre></div>
<p>Another alternative, is to use the <strong>graphical user interface</strong></p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cylc<span class="w"> </span>gui
</code></pre></div>
<p>Read below on how access the web interface running on NeSI using your
local browser.</p>
<h3 id="connecting-via-jupyter">Connecting via Jupyter<a class="headerlink" href="#connecting-via-jupyter" title="Permanent link">&para;</a></h3>
<p>If you're connecting through <a href="https://jupyter.nesi.org.nz">https://jupyter.nesi.org.nz</a> you'll need
to replace anything before the ":" with
<a href="https://jupyter.nesi.org.nz/user/USERNAME/proxy/">https://jupyter.nesi.org.nz/user/USERNAME/proxy/</a> to get access to the
web graphical user interface (where USERNAME is your NeSI user name).
Hence the URL becomes
<a href="https://jupyter.nesi.org.nz/user/USERNAME/proxy/">https://jupyter.nesi.org.nz/user/USERNAME/proxy/</a><a href="http://wbn003:8888/cylc?token=30d9e2b3dfe097318539cff02f69a24217f2967e8809f0a9">8888/cylc?token=TOKEN</a></p>
<h3 id="connecting-via-ssh">Connecting via SSH<a class="headerlink" href="#connecting-via-ssh" title="Permanent link">&para;</a></h3>
<p>First open ssh tunnelling, so that a given port on your local machine
(e.g. your laptop) maps to the Cylc UI Server’s port on the HPC. On your
local machine, type</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ssh<span class="w"> </span>-N<span class="w"> </span>-L<span class="w"> </span>PORT:localhost:PORT<span class="w"> </span>HOST
</code></pre></div>
<p>where <strong>PORT</strong> is a valid port number and <strong>HOST</strong> can be Māui or
mahuika. See the <a href="../../../Getting_Started/Accessing_the_HPCs/Port_Forwarding/">NeSI
page</a> for
the range of allowed ports (currently 1024-49151). Choose any number in
this range but make sure your port number is fairly unique to avoid
clashing with other users. Option -N is optional: it opens the
connection without logging you into the shell.</p>
<p>Then ssh to the host (e.g. mahuika)</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ssh<span class="w"> </span>HOST
</code></pre></div>
<p>and add the following to <strong>$HOME/.cylc/uiserver/jupyter_config.py</strong> on
the <strong>HOST</strong>.</p>
<div class="highlight"><pre><span></span><code>c.ServerApp.open_browser<span class="o">=</span>False
c.ServerApp.port<span class="o">=</span>PORT
</code></pre></div>
<p>where PORT and HOST match the values you selected when opening the ssh
tunnel.</p>
<p>You're now ready to fire up the web graphical interface</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cylc<span class="w"> </span>gui
</code></pre></div>
<p>Just copy the URL that looks like</p>
<div class="highlight"><pre><span></span><code>http://127.0.0.1:PORT/cylc?token<span class="o">=</span>TOKEN
</code></pre></div>
<p>into your web browser. (Again substitute HOST and PORT with the values
chosen above.)</p>
<h2 id="how-to-execute-a-workflow">How to execute a workflow<a class="headerlink" href="#how-to-execute-a-workflow" title="Permanent link">&para;</a></h2>
<p>To execute the workflow type</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cylc<span class="w"> </span>play<span class="w"> </span>--no-detach<span class="w"> </span>simple
</code></pre></div>
<p>The "--no-detach" option makes scheduler run in the foreground so you
can see its output in your terminal. Without this option it will
"daemonize" so it can keep running even if you log out.</p>
<p>Command</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cylc<span class="w"> </span>scan
</code></pre></div>
<p>will list all running and installed workflows.</p>
<h2 id="checking-the-output">Checking the output<a class="headerlink" href="#checking-the-output" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cylc<span class="w"> </span>cat-log<span class="w"> </span>simple//1/taskA<span class="w">  </span><span class="c1"># note // between workflow and task ID</span>
</code></pre></div>
<p>of the first cycle of taskA. The "1" refers to the task iteration, or
cycle point. Our simple workflow only has one iteration (as dictated by
the R1 graph above).</p>
<h2 id="how-to-clean-or-remove-a-workflow">How to clean or remove a workflow<a class="headerlink" href="#how-to-clean-or-remove-a-workflow" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cylc<span class="w"> </span>clean<span class="w"> </span>simple
</code></pre></div>
<p>will remove the file structure associated with workflow "simple".</p>
<h2 id="where-jobs-results-and-log-files-are-stored">Where jobs, results and log files are stored<a class="headerlink" href="#where-jobs-results-and-log-files-are-stored" title="Permanent link">&para;</a></h2>
<p>Cylc will create a directory under $HOME/cylc-run. On NeSI, the output
of the runs will be stored in the project directory, with a symbolic
link pointing from the user home directory to the project directory</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ls<span class="w"> </span>-l<span class="w"> </span><span class="nv">$HOME</span>/cylc-run/simple/run1
lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>pletzera<span class="w"> </span>pletzera<span class="w"> </span><span class="m">54</span><span class="w"> </span>Aug<span class="w">  </span><span class="m">5</span><span class="w"> </span><span class="m">03</span>:19<span class="w"> </span>/home/pletzera/cylc-run/simple/run1<span class="w"> </span>-&gt;<span class="w"> </span>/nesi/nobackup/nesi99999/pletzera/cylc-run/simple/run1
</code></pre></div>
<h2 id="about-cylc">About Cylc<a class="headerlink" href="#about-cylc" title="Permanent link">&para;</a></h2>
<p>More can be found about Cylc
<a href="https://cylc.github.io/cylc-doc/nightly/html/tutorial/index.html">here</a>,
including what Cylc is and how you can leverage Cylc to submit parallel
jobs.</p>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">January 21, 2024</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">October 12, 2022</span>
  </span>

    
    
    
  </aside>





                



              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
    <div id="new-footer">
        <div id="partners">
          <div id="logos">
            <a href="https://nesi.org.nz" class="nesi-footer-logo" target="_blank"><img alt="" src="https://www.nesi.org.nz/sites/default/files/LogoNeSI-footer.png"></a>
            <a href="http://www.mbie.govt.nz/" target="_blank"><img alt="" src="https://www.nesi.org.nz/sites/default/files/media/LogoMBIE.png"></a>
            <a href="https://www.auckland.ac.nz/" target="_blank"><img alt="" src="https://www.nesi.org.nz/sites/default/files/media/LogoUoA.png"></a>
            <a href="https://www.niwa.co.nz/" target="_blank"><img alt="" src="https://www.nesi.org.nz/sites/default/files/media/LogoNIWA.png"></a>
            <a href="https://www.otago.ac.nz/" target="_blank"><img alt="" src="https://www.nesi.org.nz/sites/default/files/media/LogoUoO.png"></a>
            <a href="http://www.landcareresearch.co.nz/" target="_blank"><img alt="" src="https://www.nesi.org.nz/sites/default/files/LogoManaakiWhenuaLandcareResearch.png"></a>
          </div>
        </div>
        <div id="inner">
          <span id="links"><a href="https://www.nesi.org.nz/copyright" target="_blank">Copyright © <span id="year">2023</span> · New Zealand eScience Infrastructure</a> | <a href="https://www.nesi.org.nz//disclaimer" target="_blank">Disclaimer</a> | <a href="https://www.nesi.org.nz//privacy" target="_blank">Privacy</a>
          </span>
        </div>
    </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.indexes", "navigation.top", "navigation.prune", "content.code.copy", "content.action.edit", "navigation.path"], "search": "../../../assets/javascripts/workers/search.c011b7c0.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.7389ff0e.min.js"></script>
      
        <script src="../../../assets/javascripts/general.js"></script>
      
    
  </body>
</html>